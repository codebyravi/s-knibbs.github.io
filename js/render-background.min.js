"use strict";function cellularAutomata(r,a,t,e,o){for(var n=0;n<e;n++)for(var d=0;d<o;d++){for(var i=0,f=-1;f<=1;f++)for(var u=-1;u<=1;u++)0==f&&0==u||(i+=r[(n+f).mod(e)+e*(d+u).mod(o)]);a[n+e*d]=t[r[n+e*d]][i]}}function conwayGOL(r,a,t){for(var e,o=r*a,n=new Uint8Array(o),d=new Uint8Array(o),i=[[0,0,0,1,0,0,0,0,0],[0,0,1,1,0,0,0,0,0]],f=0;f<o;f++)Math.random()>.8&&(n[f]=1);for(var f=0;f<t;f++)cellularAutomata(n,d,i,r,a),e=d,d=n,n=e;var u=[[0,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1]];cellularAutomata(n,d,u,r,a);for(var f=0;f<o;f++)n[f]=n[f]+d[f];return n}function drawGrid(){var r=document.getElementById("background-canvas"),a=$(".banner-image"),t=getComputedStyle(a[0]),e=r.width=parseInt(t.width),o=r.height=parseInt(t.height);if(r.getContext){for(var n=r.getContext("2d"),d=18,i=40,f=parseInt(e/i),u=conwayGOL(f,parseInt(o/i),4),c=["#f3f3f3","#d6efe3","#b4bade"],l=0,m=0;m<=e;l++,m+=i)for(var v=0,g=0;g<=o;v++,g+=i)n.fillStyle=c[u[l+v*f]],n.beginPath(),n.moveTo(m,g),n.arc(m-d,g,d,0,2*Math.PI,!0),n.fill();var s=r.toDataURL();a.css("background-image","url("+s+")")}}Number.prototype.mod=function(r){return(this%r+r)%r},$(document).ready(drawGrid),$(window).resize(drawGrid);