"use strict";function cellularAutomata(r,a,t,o,e){for(var n=0;n<o;n++)for(var d=0;d<e;d++){for(var f=0,i=-1;i<=1;i++)for(var l=-1;l<=1;l++)0==i&&0==l||(f+=r[(n+i).mod(o)+o*(d+l).mod(e)]);a[n+o*d]=t[r[n+o*d]][f]}}function conwayGOL(r,a,t){for(var o,e=r*a,n=new Uint8Array(e),d=new Uint8Array(e),f=[[0,0,0,1,0,0,0,0,0],[0,0,1,1,0,0,0,0,0]],i=0;i<e;i++)Math.random()>.8&&(n[i]=1);for(var i=0;i<t;i++)cellularAutomata(n,d,f,r,a),o=d,d=n,n=o;var l=[[0,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1]];cellularAutomata(n,d,l,r,a);for(var i=0;i<e;i++)n[i]=n[i]+d[i];return n}function drawGrid(){var r=document.getElementById("background-canvas"),a=$(".banner-image"),t=getComputedStyle(a[0]),o=r.width=parseInt(t.width),e=r.height=parseInt(t.height);if(r.getContext){for(var n=r.getContext("2d"),d=13,f=30,i=parseInt(o/f),l=parseInt(e/f),u=conwayGOL(i,l,4),c=["#f3f3f3","#d6efe3","#b4bade"],m=0,v=0;m<i;m++,v+=f)for(var g=0,p=0;g<l;g++,p+=f)n.fillStyle=c[u[m+g*i]],n.beginPath(),n.moveTo(v,p),n.arc(v-d,p,d,0,2*Math.PI,!0),n.fill();var s=n.createLinearGradient(0,0,0,e);s.addColorStop(0,"#f3f3f3"),s.addColorStop(.4,"rgba(255,255,255,0)"),s.addColorStop(.6,"rgba(255,255,255,0)"),s.addColorStop(1,"#f3f3f3"),n.fillStyle=s,n.fillRect(0,0,o,e);var w=r.toDataURL();a.css("background-image","url("+w+")")}}Number.prototype.mod=function(r){return(this%r+r)%r},$(document).ready(drawGrid),$(window).resize(drawGrid);